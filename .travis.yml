language: java
jdk:
- oraclejdk8
before_install: "git clone -b travis `git config --get remote.origin.url` target/travis"
script: "if [ $TRAVIS_PULL_REQUEST == 'false' ] ; then if [ $TRAVIS_BRANCH == release ] ; then mvn clean deploy --settings target/travis/settings.xml; else mvn test -B; fi ; else mvn clean verify --settings target/travis/settings.xml; fi"
branches:
  only:
  - master
  - release
  